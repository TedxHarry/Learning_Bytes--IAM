# 🏆 `Section 1.9` | AD Fundamentals - **“Trusts and Federation”**

A single domain can work for a small company, but large enterprises often need multiple domains or even multiple forests.  
The challenge then becomes: **how do users in one domain or forest access resources in another?**  
This is where **trusts and federation** come in.

---

## 🔗 What is a Trust?
A **trust** is a relationship between two domains or forests that allows authentication requests to flow across boundaries.  
Without trusts, each domain or forest is isolated.

**Key properties of trusts:**  
- **Direction** → one-way or two-way  
- **Scope** → transitive (extends automatically) or non-transitive (limited to one hop)  

---

## 🌍 Types of Trusts
- **Parent-Child Trust**  
  - Automatic when you create a new domain in a tree  
  - Always transitive and two-way  
  - Example: `sales.company.com` trusts `company.com`  

- **Tree-Root Trust**  
  - Automatic when you add a new tree to a forest  
  - Transitive and two-way  
  - Example: `company.com` trusts `partner.org` inside the same forest  

- **External Trust**  
  - Manual trust to a domain in another forest (no forest-wide trust)  
  - Non-transitive, can be one-way or two-way  
  - Example: trusting a legacy NT4 or separate AD domain  

- **Forest Trust**  
  - Configured between two forests  
  - Transitive across all domains in each forest  
  - Allows broader collaboration  

- **Shortcut Trust**  
  - Speeds up authentication between distant domains inside the same forest  
  - Useful when users in one domain frequently access resources in another  

- **Realm Trust**  
  - Connects AD to non-Windows Kerberos realms (e.g., UNIX or MIT Kerberos)  

---

## 🌐 Federation vs Trusts
While trusts connect AD **domains and forests**, federation connects AD to **external identity systems**.  

**Example:** AD + **ADFS (Active Directory Federation Services)** allows web apps to authenticate using AD accounts via **SAML or OAuth**.  

Federation is what makes **single sign-on (SSO) with SaaS apps** possible.

---

## 🔒 Security Considerations
- Trusts extend authentication → a **weak domain** can expose stronger ones if trust is not carefully managed  
- Limit who can create trusts, and always monitor them  
- For external partners, **non-transitive trusts or federation** is safer than wide-open forest trusts  

---

## ✅ Takeaway
- Trusts let authentication flow across **domains and forests**  
- Types include **parent-child, tree-root, external, forest, shortcut, and realm**  
- Federation extends AD to **external systems and SaaS apps**  
- The environment is only as strong as its **weakest trusted domain**  

---

👉 Back: [1.08 AD Schema and Attributes](./1.08-schema-attributes.md)  
👉 Next: [1.10 Security and Hardening AD](./1.10-hardening.md)
